# HTTP

### 常见的HTTP Method 有哪些？

- **GET**
  - 用于从指定资源请求数据。
  - 通常只用于获取数据，不应产生副作用。

- **POST**
  - 用于向指定资源提交数据。
  - 常用于提交表单或上传文件。
  - 数据通常包含在请求体中。

- **PUT**
  - 用于替换指定资源的当前表示。
  - 如果指定资源不存在，会创建一个新资源。

- **DELETE**
  - 用于删除指定资源。

- **HEAD**
  - 类似于GET方法，但没有响应体。
  - 用于获取资源的元数据。

- **OPTIONS**
  - 用于描述目标资源的通信选项。

- **PATCH**
  - 用于对资源应用部分修改。

### GET 和 POST有什么区别


|特性              |GET                                      |POST                                        |
| ---------------  | --------------------------------------- | ---------------------------------------- |
|**数据提交方式**   | 参数通过URL传递|数据在请求体中传递|
|**用途**           |用于请求护具或执行只读操作|用于提交数据（上传表单或者上传文件）|
|**安全性和隐私**    |参数会暴露在URL中，容易被保存或者被截获|数据不会显示在URL中，更加安全|
|**缓存和历史记录**  |可以被浏览器缓存，保存在历史记录中|通常不会被缓存，不保存在历史记录中|
|**幂等性**        | 多次请求会返回相同的结果| 相同请求可能会被多次提交|
|**退回安全**       |在浏览器中回退通常是安全的|在浏览器中回退可能导致数据再次提交|

### HTTP Header中有哪些常见的属性


#### 通用头部
| 键                 | 描述                             |
| ------------------ | -------------------------------- |
| `Content-Type`     | 发送给接收者的数据体的媒体类型   |
| `Content-Length`   | 请求或响应体的大小（字节为单位） |
| `Content-Encoding` | 数据体的编码方式                 |
| `Cache-Control`    | 指定缓存策略                     |
| `Connection`       | 控制对当前网络连接的处理         |

#### 请求头部
| 键              | 描述                              |
| --------------- | --------------------------------- |
| `Host`          | 请求的目标服务器                  |
| `User-Agent`    | 发出请求的用户代理的标识          |
| `Accept`        | 客户端能够接收的内容类型          |
| `Accept-Language`| 用户期望的自然语言               |
| `Authorization` | 用于认证的凭证信息                |
| `Cookie`        | 从服务器先前发送的HTTP Cookie     |

#### 响应头部
| 键                 | 描述                       |
| ------------------ | -------------------------- |
| `Set-Cookie`       | 服务器发送的HTTP Cookie    |
| `WWW-Authenticate` | 指示认证方法和参数         |
| `Server`           | 响应请求的服务器软件       |
| `Etag`             | 资源的特定版本的标识符     |
| `Expires`          | 响应被认为过时的日期/时间  |

#### 实体头部
| 键                | 描述                           |
| ----------------- | ------------------------------ |
| `Last-Modified`   | 资源上次修改的日期和时间       |
| `Content-Disposition` | 告诉浏览器以何种形式展示响应内容 |

### HTTPS的密钥交换过程
  - 客户端发起ssl请求，服务端返回CA证书
  - 客户端解析CA证书的真伪，获取用于非对称加密的公钥
  - 利用公钥加密发送对称加密的密钥
  - 利用密钥生成加密传输数据


### HTTP1.0 1.1 2.0

这些版本之间的主要区别如下：

**HTTP/1.0**
- 无连接的：每次请求/响应后，创建的TCP连接会被关闭，对于每个Web页面的请求都需要建立一个新的连接。
- 无状态的：服务器不会保留每个客户的会话信息。
- 有限的性能优化：由于每次请求都需要建立新的连接，因此增加了延迟和降低了性能。

**HTTP/1.1**
- 持久连接：默认情况下，TCP连接在多个请求/响应之间保持打开状态，减少了建立和关闭连接的开销。
- 管道化技术：允许在同一个TCP连接中，客户端可以在收到前一个响应之前发送下一个请求，进一步提高传输效率。
- 分块传输编码：服务器可以将响应分成多个部分（块）逐个发送，提高了大文件传输的效率。
- 缓存控制：更加精细的缓存控制机制，包括更多的缓存指令和条件请求，使得缓存更加高效。
- Host头部：由于虚拟主机的普及，引入Host头部来指定请求的服务器。

**HTTP/2.0**
- HTTP/2.0在HTTP/1.x的基础上引入了更多的改进，以提高Web性能和效率：
- 二进制分帧层：HTTP/2引入了二进制分帧机制，将传输的信息分割成更小的消息和帧，并对它们进行交错发送，然后在另一端重新组装。这改进了HTTP/1.x中文本格式的解析性能，并允许复用连接。
- 多路复用：在同一个TCP连接中并行交错地发送多个请求和响应，消除了HTTP/1.x中的队头阻塞问题。
- 头部压缩：HTTP/2使用HPACK压缩格式压缩头部，减少了传输的数据量。
- 服务器推送：服务器可以对一个客户端请求发送多个响应，允许服务器主动推送资源到客户端缓存中，减少了后续请求的延迟。
- 优先级和流控制：客户端可以指定请求的优先级，服务器可以更好地管理资源，流控制机制则确保共享连接的有效利用。