# Hash

### 常见的哈希表是如何设计的

    1.哈希函数
        -哈希函数是哈希表的核心。它将输入的键转换成一个整数，这个整数即为数组的索引。
        -好的哈希函数的时间复杂度要尽可能的低，并且尽可能均匀的分布，尽量减少哈希冲突
    2.数组
        -哈希表底层是一个数组，每一个数组元素称为一个“桶子”或者“槽”
        -数组的每一个位置都会与一个可能的哈希值对应
    3.冲突解决
        -由于多个键可能会映射到同一个哈希值，因此必须有办法去解决冲突。常见的冲突解决办法有：
            --链接法：在每一个数组位置存储一个元素列表。所有映射到该位置的元素都会存储到这个列表中
            --开放寻法：发生哈希冲突时，寻找数组中下一个空槽。常见的有线性探测，二次探测和双重散列。
    4.扩容策略
        -当哈希表中的元素越来越多，冲突的可能学会越来越大。为了保持哈希表操作的高效性，哈希表通常会到到达一定的负载因子后会进行扩容
        -通常涉及到创建一个更大的数组并重新散列所有的现有元素
    5.删除操作
        -在开放寻址法中，删除操作比较复杂，因为简单的删除一个还俗可能会终端查找的过程。一种常见的解决方法是软删除
    6.性能考量
        -哈希表的主要优点就是，在理想情况下，他们提供常数时间的插入，删除和查找操作
        -性能大部分取决于哈希函数的质量，冲突解决办法的效率以及哈希表的负载因子

### 如果内存有限，如何最大化利用剩余的内存空间

    1.压缩键和值
        - 如果哈希表中的键或者值是字符串或者是其他的较大的数据结构的画，考虑使用更高效的编码方式。例如变长编码或其他压缩技术。
    2.减少元数据和内部结构
        - 检查哈希表的实现以及减少每一个元素的内存开销。例如，减少指针的使用，合并字段，或者使用紧凑的数据结构。
    3.使用外部存储
        - 将部分数据移动到磁盘，虽然这样会降低哈希表访问速度，但是可以减少内存的使用
    4.使用懒加载和分页
        - 只在需要时加载数据到内存中或者使用更高效的冲入解决办法
    5.设置垃圾回收策略
        - 释放不在使用的或者很久没使用的数据的内存
    

